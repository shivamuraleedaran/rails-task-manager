<ul>
  <% @tasks.each do |task| %>
    <li>
      <%= link_to task.title, task_path(task) %>
      <%= link_to 'Edit', edit_task_path(task) %>
      <%= link_to "Delete", task_path(task), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
    </li>
  <% end %>
</ul>


<%# <script>
  document.addEventListener('DOMContentLoaded', function() {
    const deleteButtons = document.querySelectorAll('.delete-task');
    deleteButtons.forEach(function(button) {
      button.addEventListener('ajax:success', function() {
        button.parentNode.remove();
      });

      button.addEventListener('ajax:error', function() {
        console.log('Error occurred during task deletion.');
        // You can display an error message here if needed
      });
    });
  });
</script> %>
